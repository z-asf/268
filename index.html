<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOST ZERO | Archive 3016</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Noto+Serif+KR:wght@400;700&family=Fira+Code:wght@300;500&display=swap');

        :root {
            --accent: #9d0000;
            --bg-dark: #0a0a0a;
            --panel-bg: rgba(15, 15, 15, 0.98);
            --text-main: #d1d1d1;
            --border: rgba(255, 255, 255, 0.08);
            --danger-red: #ff0000;
        }

        html, body {
            margin: 0; padding: 0;
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Noto Serif KR', serif;
            overflow-x: hidden;
            overflow-y: hidden; 
            min-height: 100vh;
        }

        /* --- 진입 화면 --- */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 99999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .start-btn {
            padding: 20px 60px; font-family: 'Cinzel', serif; font-size: 2rem;
            color: #fff; border: 2px solid var(--accent); background: transparent;
            cursor: pointer; transition: 0.3s; letter-spacing: 5px;
        }
        .start-btn:hover { background: var(--accent); box-shadow: 0 0 30px var(--accent); }

        /* --- 인트로 연출 (2.3초 간격) --- */
        @keyframes glitch-exit {
            0% { clip-path: inset(0 0 0 0); transform: translate(0); opacity: 1; }
            100% { clip-path: inset(50% 50% 50% 50%); transform: scale(1.3); opacity: 0; filter: blur(15px); }
        }
        .glitch-active { animation: glitch-exit 0.5s cubic-bezier(.25,.46,.45,.94) both; }
        
        #danger-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: none; justify-content: center; align-items: center; z-index: 10000; }
        .danger-bg-flicker { position: absolute; width: 100%; height: 100%; animation: alarm-flicker 0.3s infinite; }
        .danger-title { font-family: 'Cinzel', serif; font-size: 8rem; font-weight: 900; color: var(--danger-red); letter-spacing: 30px; animation: text-pulse 0.3s infinite; position: relative; z-index: 10001; }

        #intro-layer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9000; display: none; justify-content: center; align-items: center; text-align: center; }
        .intro-text { font-size: 2.2rem; font-weight: 700; line-height: 1.8; max-width: 900px; color: #fff; display: none; word-break: keep-all; }

        /* --- 메인 UI (스크롤 완전 허용) --- */
        #main-ui { display: none; padding: 60px 40px; max-width: 1400px; margin: 0 auto; opacity: 0; transition: opacity 1s ease; }
        .district-section { margin-bottom: 100px; }
        .district-title { font-family: 'Cinzel', serif; font-size: 2.5rem; color: var(--accent); margin-bottom: 30px; border-left: 5px solid var(--accent); padding-left: 20px; letter-spacing: 5px; }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 40px; }
        .card { background: #111; border: 1px solid var(--border); transition: 0.4s; cursor: pointer; overflow: hidden; }
        .card img { width: 100%; height: 450px; object-fit: cover; opacity: 0.8; transition: 0.4s; }
        .card-body { padding: 20px; text-align: center; background: #0a0a0a; border-top: 1px solid var(--border); }
        .card-body h3 { margin: 0; font-size: 1.3rem; color: #fff; }

        /* --- 모달 (수직 구조) --- */
        #modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.97); z-index: 70000; display: none; justify-content: center; align-items: flex-start; overflow-y: auto; padding: 50px 0; }
        .modal-content { display: flex; flex-direction: column; width: 90%; max-width: 600px; background: #0d0d0d; border: 1px solid var(--accent); margin: auto; }
        .modal-img-area img { width: 100%; height: auto; display: block; object-fit: contain; }
        .modal-info-area { padding: 40px; background: var(--panel-bg); }
        .m-name { font-size: 2.5rem; color: var(--accent); font-family: 'Cinzel', serif; margin-bottom: 30px; border-bottom: 1px solid var(--accent); }
        .close-btn { position: fixed; top: 30px; right: 40px; font-size: 4rem; color: #fff; cursor: pointer; z-index: 70001; }
    </style>
</head>
<body>

<div id="start-overlay">
    <div style="font-family:'Cinzel', serif; font-size:1.5rem; color:var(--accent); margin-bottom:20px;">RESTRICTED DATABASE</div>
    <button class="start-btn" onclick="initExperience()">CONNECT</button>
</div>

<audio id="bgm" loop>
    <source src="https://raw.githubusercontent.com/z-asf/KCH1/refs/heads/main/0589.mp3" type="audio/mpeg">
</audio>

<div id="intro-layer">
    <div id="logo-box" class="main-logo" style="color:white; font-size:6rem; font-family:'Cinzel';">LOST ZERO</div>
    <div id="text-box" class="intro-text"></div>
</div>

<div id="danger-overlay">
    <div class="danger-bg-flicker"></div>
    <div class="danger-title" style="font-size:8rem; color:red; font-family:'Cinzel';">DANGER</div>
</div>

<div id="main-ui">
    <div class="district-section" id="dist-1"><h2 class="district-title">DISTRICT 1</h2><div class="grid"></div></div>
    <div class="district-section" id="dist-2"><h2 class="district-title">DISTRICT 2</h2><div class="grid"></div></div>
    <div class="district-section" id="dist-3"><h2 class="district-title">DISTRICT 3</h2><div class="grid"></div></div>
</div>

<div id="modal">
    <div class="close-btn" onclick="closeModal()">&times;</div>
    <div class="modal-content">
        <div class="modal-img-area"><img id="m-img" src=""></div>
        <div class="modal-info-area">
            <h2 class="m-name" id="m-name"></h2>
            <div class="m-row"><span class="m-label">RESIDENTIAL DISTRICT</span><span id="m-dist" class="m-val"></span></div>
            <div class="m-row"><span class="m-label">GENDER</span><span id="m-gen" class="m-val"></span></div>
            <div class="m-row"><span class="m-label">PAST OCCUPATION</span><span id="m-job" class="m-val"></span></div>
            <div class="m-row"><span class="m-label">TRAITS / STATUS</span><span id="m-traits" class="m-val"></span></div>
        </div>
    </div>
</div>

<script>
    const lines = [
        { type: 'logo', content: 'LOST ZERO' },
        { content: "3010년, 인류 진화 프로젝트 '로스트 제로'의 살포가 실패하며 대한민국은 감염자들이 득실거리는 지옥으로 변했다." },
        { content: "6년이 지난 3016년, 생존자들은 구역별 쉘터에 고립되거나 1~3구역으로 나뉜 폐허를 떠도는 방랑자가 되어 하루하루 죽음을 유예한다." },
        { content: "쉘터의 식량 조달원이었던 당신은 탐색 중 감염자에게 물리지만, 괴물로 변하지 않는 ‘무증상 면역자’가 된다." },
        { content: "이 비정한 서울에서 당신은 타인의 구원이 될 것인가," },
        { content: "아니면 냉혹한 단독 생존자가 될 것인가." },
        { content: "정해진 결말은 없다." },
        { content: "잿빛 안개 속에서 당신만의 서사를 완성하라." }
    ];

    const chars = [
        { id: 'C', name: '강이서', dist: '1구역', gender: '여', job: '경찰 특공대 전술 요원', traits: '21세, C컵, 고독한 완벽주의자, 차갑고 엄격함', status: '1' },
        { id: 'D', name: '홍나래', dist: '1구역', gender: '여', job: '차량 정비소 기술자', traits: '23세, F컵, 츤데레 소녀 감성, 불도저 스타일', status: '1' },
        { id: 'AO', name: '권태오', dist: '1구역', gender: '남', job: '용병', traits: '29세, 냉혹한 베테랑 사냥개, 무뚝뚝하고 현실적임', status: '0' },
        { id: 'E', name: '유채원', dist: '2구역', gender: '여', job: '응급실 간호사', traits: '21세, G컵, 지고지순함, 쉘터 퇴출됨', status: '1' },
        { id: 'CO', name: '백시우', dist: '2구역', gender: '남', job: '특수 수사대 요원', traits: '26세, 결벽증적 질서주의자, 냉혈한 집행자', status: '0' },
        { id: 'B', name: '백설아', dist: '3구역', gender: '여', job: '재벌가 막내딸', traits: '22세, E컵, 생활 능력 0, 기생 고양이 속성, 허무주의자', status: '1' },
        { id: 'A', name: '최민지', dist: '3구역', gender: '여', job: '고교 육상부 유망주', traits: '20세, A컵, 먹을 것에 약한 댕청미, 경계심 강함', status: '1' },
        { id: 'BO', name: '서진', dist: '3구역', gender: '남', job: '스캐빈저', traits: '24세, 영악한 기회주의자, 능글맞은 계산기', status: '0' }
    ];

    function initExperience() {
        const bgm = document.getElementById('bgm');
        bgm.volume = 0.15;
        bgm.play().then(() => {
            document.getElementById('start-overlay').style.display = 'none';
            document.getElementById('intro-layer').style.display = 'flex';
            runIntro();
        }).catch(() => {
            document.getElementById('start-overlay').style.display = 'none';
            document.getElementById('intro-layer').style.display = 'flex';
            runIntro();
        });
    }

    async function runIntro() {
        const logoBox = document.getElementById('logo-box');
        const textBox = document.getElementById('text-box');

        for (let i = 0; i < lines.length; i++) {
            const line = lines[i];
            const target = line.type === 'logo' ? logoBox : textBox;
            logoBox.style.display = 'none'; textBox.style.display = 'none';
            target.classList.remove('glitch-active');
            target.innerHTML = line.content;
            target.style.display = 'block';
            await new Promise(r => setTimeout(r, 2300)); 
            target.classList.add('glitch-active');
            await new Promise(r => setTimeout(r, 500));
        }

        document.getElementById('intro-layer').style.display = 'none';
        document.getElementById('danger-overlay').style.display = 'flex';
        await new Promise(r => setTimeout(r, 1000));
        document.getElementById('danger-overlay').style.display = 'none';
        document.getElementById('main-ui').style.display = 'block';
        document.body.style.overflowY = 'visible';
        renderChars();
    }

    function renderChars() {
        chars.forEach(c => {
            const distNum = c.dist.match(/\d/)[0];
            const grid = document.querySelector(`#dist-${distNum} .grid`);
            if (grid) {
                const div = document.createElement('div');
                div.className = 'card';
                div.innerHTML = `<div class="card-img-wrap"><img src="https://raw.githubusercontent.com/z-asf/HI2/refs/heads/main/${c.id}_${c.status}.webp"></div><div class="card-body"><h3>${c.name}</h3></div>`;
                div.onclick = () => openModal(c);
                grid.appendChild(div);
            }
        });
    }

    window.openModal = function(c) {
        document.getElementById('m-img').src = `https://raw.githubusercontent.com/z-asf/HI2/refs/heads/main/${c.id}_${c.status}.webp`;
        document.getElementById('m-name').innerText = c.name;
        document.getElementById('m-dist').innerText = c.dist;
        document.getElementById('m-gen').innerText = c.gender;
        document.getElementById('m-job').innerText = c.job;
        document.getElementById('m-traits').innerText = c.traits;
        document.getElementById('modal').style.display = 'block';
        document.body.style.overflow = 'hidden'; 
    };

    window.closeModal = function() { 
        document.getElementById('modal').style.display = 'none'; 
        document.body.style.overflowY = 'visible'; 
    };
</script>

</body>
</html>
